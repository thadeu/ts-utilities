!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t||self).tsUtility={})}(this,function(t){function n(){return n=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},n.apply(this,arguments)}function e(t){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e(t)}function r(t,n){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},r(t,n)}function o(t,n,e){return o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,n,e){var o=[null];o.push.apply(o,n);var u=new(Function.bind.apply(t,o));return e&&r(u,e.prototype),u},o.apply(null,arguments)}function u(t){var n="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,u)}function u(){return o(t,arguments,e(this).constructor)}return u.prototype=Object.create(t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r(u,t)},u(t)}var i=/*#__PURE__*/function(t){var n,e;function o(n,e){var r;return(r=t.call(this,n)||this).statusCode=void 0,r.name="TryException",r.statusCode=e||400,Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r),r.constructor),r}return e=t,(n=o).prototype=Object.create(e.prototype),n.prototype.constructor=n,r(n,e),o}(/*#__PURE__*/u(Error)),c=function(t){var n;return"Function"===(null==t||null==(n=t.constructor)?void 0:n.name)},l=function(t){var n;return"AsyncFunction"===(null==t||null==(n=t.constructor)?void 0:n.name)},f=function(t,n){return void 0===n&&(n=null),l(t)||c(t)?t(n):t};t.Try=function t(e,r){var o,u,a=null!=(o=null==r?void 0:r.max)?o:0,s=null!=(u=null==r?void 0:r.count)?u:0;try{var p;return l(e)?function(t){var n=new Promise(function(n,e){setTimeout(function(){return e("limit time excedded ("+t+" ms)")},t)});return Promise.race([n].concat([].slice.call(arguments,1)))}(null!=(p=null==r?void 0:r.timeout)?p:9999,f(e)).catch(function(o){return s>=a?f(null==r?void 0:r.onError,o):(s++,null!=r&&r.onRetry&&r.onRetry(s,s>=a),t(e,n({},r,{count:s})))}):(c(e),f(e))}catch(o){if(s>=a){if(null!=r&&r.strict)throw new i(o);return f(null==r?void 0:r.onError,o)}return s++,null!=r&&r.onRetry&&r.onRetry(s,s>=a),a>0?function(){try{var o;return Promise.resolve((u=1e3*(null!=(o=Math.pow(s,null==r?void 0:r.exponential))?o:1.5),new Promise(function(t,n){return setTimeout(t,u)}))).then(function(){return t(e,n({},r,{count:s}))})}catch(t){return Promise.reject(t)}var u}():t(e,n({},r,{count:s}))}}});
//# sourceMappingURL=index.umd.js.map
