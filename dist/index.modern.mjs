function t(){return t=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},t.apply(this,arguments)}class n extends Error{constructor(t,n){super(t),this.statusCode=void 0,this.name="TryException",this.statusCode=n||400,Error.captureStackTrace(this,this.constructor)}}const r=t=>{var n;return"Function"===(null==t||null==(n=t.constructor)?void 0:n.name)},o=t=>{var n;return"AsyncFunction"===(null==t||null==(n=t.constructor)?void 0:n.name)},e=t=>{var n;return"RegExp"===(null==(n=t.constructor)?void 0:n.name)},u=t=>"string"==typeof t&&t.trim(),l=(t,n=null)=>o(t)||r(t)?t(n):t,i=t=>new Promise((n,r)=>setTimeout(n,t)),c=(t,...n)=>{const r=new Promise((n,r)=>{setTimeout(()=>r(`limit time excedded (${t} ms)`),t)});return Promise.race([r,...n])};function s(e,u){var a,v;const d=null!=(a=null==u?void 0:u.max)?a:0;let m=null!=(v=null==u?void 0:u.count)?v:0;try{var p;return o(e)?c(null!=(p=null==u?void 0:u.timeout)?p:9999,l(e)).catch(n=>m>=d?l(null==u?void 0:u.onError,n):(m++,null!=u&&u.onRetry&&u.onRetry(m,m>=d),s(e,t({},u,{count:m})))):(r(e),l(e))}catch(r){if(m>=d){if(null!=u&&u.strict)throw new n(r);return l(null==u?void 0:u.onError,r)}return m++,null!=u&&u.onRetry&&u.onRetry(m,m>=d),d>0?async function(n){return await i(1e3*(null!=(n=m**(null==u?void 0:u.exponential))?n:1.5)),s(e,t({},u,{count:m}))}():s(e,t({},u,{count:m}))}}export{l as Execute,s as Try,i as delay,o as isAsyncFunction,r as isFunction,e as isPlainRegex,u as isPlainString,c as race};
//# sourceMappingURL=index.modern.mjs.map
